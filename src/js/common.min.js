document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".form-group__input-file");Array.prototype.forEach.call(e,function(e){var t=e.parentElement,s=t.innerHTML;e.addEventListener("change",function(e){var a="",n=t.querySelector(".form-group__input--label_text");n.classList.contains("is-active")&&n.classList.remove("is-active"),(a=this.files&&this.files.length>1?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())?(n.innerHTML=a,n.classList.add("is-active")):t.innerHTML=s})})}),$(document).ready(function(){function e(e){var t=$(window).scrollTop(),s=$(e).attr("data-parallax-speed"),a=$(e).attr("data-parallax-direction");"horisontal-right"===a?$(e).css({transform:"translate3d("+t*s+"px, 0, 0)","-webkit-transform":"translate3d("+t*s+"px, 0, 0)","-o-transform":"translate3d("+t*s+"px, 0, 0)","-moz-transform":"translate3d("+t*s+"px, 0, 0)"}):"horisontal-left"===a?$(e).css({transform:"translate3d("+-t*s+"px, 0, 0)","-webkit-transform":"translate3d("+-t*s+"px, 0, 0)","-o-transform":"translate3d("+-t*s+"px, 0, 0)","-moz-transform":"translate3d("+-t*s+"px, 0, 0)"}):"vertical-top"===a?$(e).css({transform:"translate3d(0, "+-t*s+"px, 0)","-moz-transform":"translate3d(0, "+-t*s+"px, 0)","-ms-transform":"translate3d(0, "+-t*s+"px, 0)","-o-transform":"translate3d(0, "+-t*s+"px, 0)","-webkit-transform":"translate3d(0, "+-t*s+"px, 0)"}):"vertical-bottom"===a&&$(e).css({transform:"translate3d(0, "+t*s+"px, 0)","-moz-transform":"translate3d(0, "+t*s+"px, 0)","-ms-transform":"translate3d(0, "+t*s+"px, 0)","-o-transform":"translate3d(0, "+t*s+"px, 0)","-webkit-transform":"translate3d(0, "+t*s+"px, 0)"})}var t,s=$("body"),a=s.width();$(window).on("scroll",function(){clearTimeout(t),s.hasClass("disable-hover")||s.addClass("disable-hover"),t=setTimeout(function(){s.removeClass("disable-hover")},200)}),$(".js-smooth-scroll-link").on("click",function(e){e.preventDefault();var t=$(this).attr("href"),s=$(t).offset().top;$("html, body").animate({scrollTop:s},"slow")}),$(".js-open-advanced-filter-popup-btn").on("click",function(e){e.preventDefault(),$(".js-advanced-filter-popup").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-open-callback-popup-btn").on("click",function(e){e.preventDefault(),$(".js-callback-popup").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-open-trade-in-popup-btn").on("click",function(e){e.preventDefault(),$(".js-trade-in-popup").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-open-crediting-popup-btn").on("click",function(e){e.preventDefault(),$(".js-crediting-popup").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-open-buy-car-popup-btn").on("click",function(e){e.preventDefault(),$(".js-buy-car-popup").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-open-vacancy-popup-btn").on("click",function(e){e.preventDefault(),$(".js-vacancy-popup").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-open-vacancy-form-popup-btn").on("click",function(e){e.preventDefault(),$(".js-vacancy-popup").fadeOut(300),$(".js-vacancy-form-popup").fadeIn(300),$("html").addClass("is-fixed")}),$(".form-group__input").on("blur",function(e){var t=$(this).val(),s=$(this).parents(".form-group__input--wrapper");s.hasClass("is-opened")&&s.removeClass("is-opened"),""!==t||t?$(this).parents("label").addClass("is-active"):$(this).parents("label").removeClass("is-active")}),$(".form-group__input").on("focus",function(e){var t=$(this).parents(".form-group__input--wrapper"),s=$(this).parents("label");t.addClass("is-opened"),s.addClass("is-active")}),$(".js-close-user-city-popup-btn").on("click",function(e){e.preventDefault(),$(".js-user-city-popup").fadeOut(150)}),$(".js-close-user-city-dropdown-btn").on("click",function(e){e.preventDefault(),$(this).parents(".js-user-city-dropdown").fadeOut(300),$("html").removeClass("is-fixed")}),$(".js-close-popup-btn").on("click",function(e){e.preventDefault(),$(this).parents(".js-popup").fadeOut(300),$("html").removeClass("is-fixed")}),$(".popup__overflow").on("click",function(e){e.stopPropagation();var t=$(this).find(".popup__body");$(this).find(".user-city__dropdown");t.is(e.target)||0!==t.has(e.target).length||($("html").removeClass("is-fixed"),$(".js-popup").fadeOut(300))}),a<1312&&$(".user-city__block").on("click",function(e){e.preventDefault(),$(".footer").find(".user-city__dropdown--wrapper").fadeIn(300),$("html").addClass("is-fixed")}),$(".nav__item .arrow").on("click",function(e){e.preventDefault(),$(this).toggleClass("is-active"),$(this).parents(".nav__item").find(".nav-sublist").stop().slideToggle(150)}),$(".js-open-mobile-menu-btn").on("click",function(e){e.preventDefault(),$(this).addClass("is-active"),$("html").addClass("is-fixed"),$(".js-mobile-menu").addClass("is-opened")}),$(".js-close-mobile-menu-btn, .header-actions__overflow").on("click",function(e){e.preventDefault(),$(".js-open-mobile-menu-btn").removeClass("is-active"),$("html").removeClass("is-fixed"),$(".js-mobile-menu").removeClass("is-opened")});var n=$(".car-header").outerHeight();$(window).on("scroll",function(e){$(this).scrollTop()>n?$(".js-car-header-fixed").addClass("is-fixed"):$(".js-car-header-fixed").removeClass("is-fixed")}),$(window).on("scroll",function(t){$(this).scrollTop();$(".js-item-parallax").each(function(){e($(this))})});var o=!0;$(window).on("scroll load resize",function(){if($(".our-params").length>0){if(!o)return!1;var e=$(window).scrollTop(),t=$(".our-params").offset().top,s=$(window).height(),a=$(document).height(),n=$(".our-params").outerHeight();(e+700>=t||s+e==a||n+t<s)&&($(".our-param__value").css("opacity","1"),$(".our-param__value span").spincrement({thousandSeparator:"",from:0,duration:3e3}),o=!1)}}),$(".js-show-hidden-result-btn").on("click",function(e){e.preventDefault(),$(".js-visible-block").hide(200),$(".js-hidden-results-block").show(200)});new Swiper(".js-promo-slider",{loop:!0,spaceBetween:0,pagination:{el:".js-promo-slider-pagination",clickable:!0},autoplay:{delay:8e3}});$(".js-car-card-slider").each(function(){var e=$(this),t=e.parents(".car-card__slider");new Swiper(e,{loop:!0,spaceBetween:0,pagination:{el:t.find(".js-car-card-slider-pagination"),clickable:!0},navigation:{prevEl:t.find(".js-car-card-slider-btn-prev"),nextEl:t.find(".js-car-card-slider-btn-next")},touchRatio:0})}),$(".js-cars-slider").each(function(){var e=$(this),t=e.parents("section");new Swiper(e,{slidesPerView:1,spaceBetween:0,navigation:{prevEl:t.find(".js-cars-slider-btn-prev"),nextEl:t.find(".js-cars-slider-btn-next")},breakpoints:{1100:{slidesPerView:3},700:{slidesPerView:2}}})});new Swiper(".js-recommended-slider",{slidesPerView:4,spaceBetween:0,navigation:{prevEl:".js-recommended-slider-btn-prev",nextEl:".js-recommended-slider-btn-next"}}),new Swiper(".js-description-block-slider",{loop:!0,spaceBetween:0,pagination:{el:".js-description-block-slider-pagination",clickable:!0},navigation:{prevEl:".js-description-block-slider-btn-prev",nextEl:".js-description-block-slider-btn-next"},autoplay:{delay:8e3}}),new Swiper(".js-car-main-slider",{loop:!0,slidesPerView:"auto",centeredSlides:!0,spaceBetween:0,navigation:{prevEl:".js-car-main-slider-btn-prev",nextEl:".js-car-main-slider-btn-next"}}),new Swiper(".js-partners-slider",{loop:!0,slidesPerView:2,spaceBetween:25,autoplay:{delay:8e3},navigation:{prevEl:".js-partners-slider-btn-prev",nextEl:".js-partners-slider-btn-next"},breakpoints:{1500:{slidesPerView:6},1200:{slidesPerView:5},900:{slidesPerView:4},620:{slidesPerView:3}}});$(".faq__question").on("click",function(e){e.preventDefault();var t=$(this).parents(".faq"),s=$(this).next(".faq__answer");t.hasClass("is-toggled")?(t.removeClass("is-toggled"),$(".faq").removeClass("is-toggled"),$(".faq__answer").stop().slideUp(150),s.stop().slideUp(150)):($(".faq").removeClass("is-toggled"),$(".faq__answer").stop().slideUp(150),t.addClass("is-toggled"),s.stop().slideDown(150))}),$(".js-salon-address").on("click",".salon-address__marker",function(e){e.preventDefault();var t=$(this).parents(".js-salon-address");t.hasClass("is-active")?(t.removeClass("is-active"),$(".js-salon-address").removeClass("is-active")):($(".js-salon-address").removeClass("is-active"),t.addClass("is-active"))}),$(document.body).on("click",function(e){$(e.target).closest(".js-salon-address").length||$(".js-salon-address").removeClass("is-active")}),$(".js-hide-aside-filters-btn").on("click",function(e){e.preventDefault(),$(".catalog").addClass("is-toggled"),$(".js-open-aside-filters-btn").addClass("is-active")}),$(".js-open-aside-filters-btn").on("click",function(e){e.preventDefault(),$(".catalog").removeClass("is-toggled"),$(this).removeClass("is-active")}),$("[data-fancybox]").fancybox({loop:!0,buttons:["close"],btnTpl:{arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{Назад}}"><div>\t<svg  viewBox="0 0 17 37" xmlns="http://www.w3.org/2000/svg"><path d="M3.12865 18.0032L16.0355 33.372C16.5416 33.9747 16.5416 34.9517 16.0355 35.5543C15.5294 36.157 14.7089 36.157 14.2028 35.5543L0.379569 19.0943C-0.126523 18.4917 -0.126523 17.5146 0.379569 16.912L14.2028 0.451972C14.7089 -0.150657 15.5294 -0.150657 16.0355 0.451972C16.5416 1.0546 16.5416 2.03166 16.0355 2.63428L3.12865 18.0032Z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{Вперед}}"><div><svg viewBox="0 0 17 37"  xmlns="http://www.w3.org/2000/svg"><path d="M13.8714 18.0036L0.964474 2.63468C0.458382 2.03205 0.458382 1.05499 0.964474 0.452364C1.47057 -0.150267 2.2911 -0.150267 2.79719 0.452364L16.6204 16.9124C17.1265 17.515 17.1265 18.4921 16.6204 19.0947L2.79719 35.5547C2.2911 36.1574 1.47056 36.1574 0.964472 35.5547C0.45838 34.9521 0.45838 33.9751 0.964472 33.3724L13.8714 18.0036Z" /></svg></div></button>'}}),$(".js-tab-content").not(":first").hide(),$(".js-tab-btn:first").addClass("is-active"),$(".js-tab-btn").on("click",function(e){e.preventDefault(),$(".js-tab-content").removeClass("is-active"),$(".js-tab-btn").removeClass("is-active").eq($(this).index()).addClass("is-active"),$(".js-tab-content").hide().eq($(this).index()).fadeIn().addClass("is-active")}).eq(0).addClass("is-active"),$(document).ready(function(){var e=function(s){var a=$(this);a.on("click",t),a.off("mouseleave",e),a.find("iframe").css("pointer-events","none")},t=function(s){var a=$(this);a.off("click",t),a.find("iframe").css("pointer-events","auto"),a.on("mouseleave",e)};$(".js-google-map").on("click",t);var s=$(".js-coords").attr("data-latitude"),a=$(".js-coords").attr("data-longitude"),n=[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}],o={center:new google.maps.LatLng(s,a),zoom:16,panControl:!1,zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,styles:n};if($("#map").length>0){var i=new google.maps.Map(document.getElementById("map"),o);new google.maps.Marker({position:new google.maps.LatLng(s,a),map:i,visible:!0,icon:"img/icons/svg/map-pin-ic.svg"})}}),$("input[type=tel]").mask("+7 (999) 999-99-99")});